## 目标
我想做一款 chrome 和 edge 的浏览器插件，能够自动提取 youtube 视频的字幕，然后发送给 llm 一号，进行单词和短语的筛选去噪，去掉太简单太日常的单词和短语。然后对高频词汇和表达进行标注。接着把结果发送给 llm 二号，打上音标，释义，例句，以及相应说明（包括但不限于一些 meme，或者文化，或者常见混淆之类的说明）。所以说，基本上还是一个 agent 系统，有一个多轮合作的架构以减少幻觉，提高结果质量。另外，我还想做一个系统，也就是在一号和二号 llm 的中间穿插一个手动筛选的环节：通过提示词约束，将1号 llm 的输出实现一个列表可视化，做一个列表让用户可以自由选择一号 llm 所提取出来的单词纳入学习计划，并将结果以合理的格式传递给二号 llm。最后，将筛选出来的每一个单词和表达，以及二号 llm 所添加的音标，释义，例句和相应说明渲染成一个个美观的 html 单词卡片，即大卡片视图，让用户可以前后切换，反复学习。并且设置小卡片视图，直观可视化所有单词和表达（单词+词性+音标+释义，表达+释义），注意不要过于拥挤，一定要美观，做到跟屏幕大小实现自适应。然后还需要添加一个导出按钮，允许用户将所有单词和表达导出为 excel 表格（每一列为单词/表达，音标，词性，释义，相关说明）


## 注意
- 太简单如 apple , banana, I don't know 这类的单词和表达不要纳入。
- 做一个单独标签页的设置界面，允许用户自定义 llm 的 provider， base url，apikey，model id 以添加来自特定 provider 的模型（如 openai/gpt-5）。并且允许设置一号 llm 和二号 llm 的模型。（最好还是让用户选择供应商，目前支持 openai，claude，gemini 和 openrouter 即可，不做太多参数给用户自定义），总之设置界面最好符合直觉，直观美观，并且方便使用。
- 关于 UI，用户只需要点击插件按钮，就可以打开一个比较大的模态框，首先显示“正在提取字幕”，提取成功就给个动画，接着“正在提取单词和表达，并去噪”，成功动画，然后“正在生成学习卡片”，成功动画。如果不成功，那大概率是来自提供商的 llm报错，只需要原封不动地显示报错即可。总之就是想要一个流畅且美观的线性流程，给人一种 agent 运行的感觉。当全部完成之后，就以大卡片视图一个一个展示学习卡片，用户可以随时关闭，也可以选择重头再来，也可以点击“完成”关闭学习界面（点击插件图标可以重新打开，但不要重新获取！除非用户刷新了页面），还可以导出，也可以切换小卡片视图进行快速浏览，也可以自己编辑卡片具体内容，也可以进入设置界面。
- 整体设计要简洁美观，避免臃肿，用第一性原理思考，在满足用户使用的同时遵循奥卡姆剃刀原则去设计。所有按钮尽量用 直观的 svg 图标，不要用文字。动画要优雅灵动。整体设计使用复古优雅且简洁的黑白细颗粒度的像素风设计。

## 技术栈
typescript


